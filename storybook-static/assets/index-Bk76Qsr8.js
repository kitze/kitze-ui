import{r as i}from"./index-BAAwwy_G.js";import{c as Z}from"./bundle-mjs-BTGVH9Kg.js";import{S,c as q,f as N,P as b,a as x,e as j,d as z}from"./index-rwsT5t3y.js";import{c as F,A as k,D as B,C as Q,a as X,P as Y,R as ee}from"./index-C0PioRJ3.js";import{h as oe,R as te,u as re,F as ne}from"./Combination-B1YLa0Eu.js";import{u as se}from"./index-5gkQajTx.js";import{j as p}from"./jsx-runtime-DPtPVAOg.js";function ae(e,a){const r={},n=Object.keys(e);for(let o=0;o<n.length;o++){const t=n[o];a(t)&&(r[t]=e[t])}return r}const ce=(e={})=>{const a=e.compose||Z,r=e.shouldForwardProp||(o=>o[0]!=="$"),n=o=>{const t=(s,c=r)=>{const l=(u,...v)=>{const f=typeof u=="function",P=!f&&String.raw({raw:u},...v);return i.forwardRef((d,g)=>{const{className:h,asChild:A,...w}=d,J=typeof s=="function"?s(d):s||{},U=ae({...J,...w},c),V=A?S:o,y=f?u(d):P;return i.createElement(V,{ref:g,className:typeof y=="function"?E=>a(y(E),typeof h=="function"?h(E):h):a(y,h),...U})})};return l.transientProps=u=>t(s,typeof u=="function"?f=>!u(f):f=>!u.includes(f)),s===void 0&&(l.attrs=u=>t(u,c)),l};return t()};return new Proxy(o=>n(o),{get(o,t){return n(t)}})},_e=ce();var _="Popover",[T,Oe]=q(_,[F]),R=F(),[ie,m]=T(_),M=e=>{const{__scopePopover:a,children:r,open:n,defaultOpen:o,onOpenChange:t,modal:s=!1}=e,c=R(a),l=i.useRef(null),[u,v]=i.useState(!1),[f=!1,P]=z({prop:n,defaultProp:o,onChange:t});return p.jsx(ee,{...c,children:p.jsx(ie,{scope:a,contentId:se(),triggerRef:l,open:f,onOpenChange:P,onOpenToggle:i.useCallback(()=>P(d=>!d),[P]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>v(!0),[]),onCustomAnchorRemove:i.useCallback(()=>v(!1),[]),modal:s,children:r})})};M.displayName=_;var D="PopoverAnchor",ue=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=m(D,r),t=R(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:c}=o;return i.useEffect(()=>(s(),()=>c()),[s,c]),p.jsx(k,{...t,...n,ref:a})});ue.displayName=D;var I="PopoverTrigger",L=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=m(I,r),t=R(r),s=N(a,o.triggerRef),c=p.jsx(b.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":W(o.open),...n,ref:s,onClick:x(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:p.jsx(k,{asChild:!0,...t,children:c})});L.displayName=I;var O="PopoverPortal",[le,pe]=T(O,{forceMount:void 0}),H=e=>{const{__scopePopover:a,forceMount:r,children:n,container:o}=e,t=m(O,a);return p.jsx(le,{scope:a,forceMount:r,children:p.jsx(j,{present:r||t.open,children:p.jsx(Y,{asChild:!0,container:o,children:n})})})};H.displayName=O;var C="PopoverContent",$=i.forwardRef((e,a)=>{const r=pe(C,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,t=m(C,e.__scopePopover);return p.jsx(j,{present:n||t.open,children:t.modal?p.jsx(de,{...o,ref:a}):p.jsx(fe,{...o,ref:a})})});$.displayName=C;var de=i.forwardRef((e,a)=>{const r=m(C,e.__scopePopover),n=i.useRef(null),o=N(a,n),t=i.useRef(!1);return i.useEffect(()=>{const s=n.current;if(s)return oe(s)},[]),p.jsx(te,{as:S,allowPinchZoom:!0,children:p.jsx(G,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),t.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:x(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;t.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:x(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),fe=i.forwardRef((e,a)=>{const r=m(C,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return p.jsx(G,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,t),t.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,t),t.defaultPrevented||(n.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=t.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),G=i.forwardRef((e,a)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:t,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:v,...f}=e,P=m(C,r),d=R(r);return re(),p.jsx(ne,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:t,children:p.jsx(B,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:v,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>P.onOpenChange(!1),children:p.jsx(Q,{"data-state":W(P.open),role:"dialog",id:P.contentId,...d,...f,ref:a,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K="PopoverClose",ve=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=m(K,r);return p.jsx(b.button,{type:"button",...n,ref:a,onClick:x(e.onClick,()=>o.onOpenChange(!1))})});ve.displayName=K;var Pe="PopoverArrow",me=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=R(r);return p.jsx(X,{...o,...n,ref:a})});me.displayName=Pe;function W(e){return e?"open":"closed"}var Ee=M,Se=L,Ne=H,be=$,he=(e,a,r,n,o,t,s,c)=>{let l=document.documentElement,u=["light","dark"];function v(d){(Array.isArray(e)?e:[e]).forEach(g=>{let h=g==="class",A=h&&t?o.map(w=>t[w]||w):o;h?(l.classList.remove(...A),l.classList.add(d)):l.setAttribute(g,d)}),f(d)}function f(d){c&&u.includes(d)&&(l.style.colorScheme=d)}function P(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)v(n);else try{let d=localStorage.getItem(a)||r,g=s&&d==="system"?P():d;v(g)}catch{}};i.createContext(void 0);i.memo(({forcedTheme:e,storageKey:a,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:t,value:s,themes:c,nonce:l,scriptProps:u})=>{let v=JSON.stringify([r,a,t,e,c,s,n,o]).slice(1,-1);return i.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${he.toString()})(${v})`}})});export{be as C,Ne as P,Ee as R,Se as T,_e as t};
